{% extends 'base_generic.html' %}

{% block content %}
    <div class='container-fluid' style="display: flex; flex-direction: row; align-items: center; justify-content: flex-start" >
        <h1>All Blogs</h1>
        <a style="font-size: 1.45em; height: 8vh; width: 8vw; display: flex; align-items: center; justify-content: center" href="{% url 'blog-create' %}">Create Blog</a>
    </div>
{#    {% load cache %}#}
{#{% cache 60 blog_list %}#}
    {% if blog_list %}
            <div class="container" style="margin-left:20px;margin-top:20px">
      {% for blog in blog_list %}
        <div class="container-sm-2">
           <h4><a href="{{ blog.get_absolute_url }}">{{ blog.title|title }}</a></h4>
            <div class="content" style="overflow: hidden;">
            <div class="container" style="display: flex; flex-direction: row;">
                <p>{{ blog.get_formatted_post_date }}</p>
                <p style="margin-left: 10px;"><a href="{% url 'blogger-detail' blog.blogger.pk %}">{{ blog.blogger.username }}</a></p>
            </div>

                <p style="margin: 10px; width: 55%;: break-all;">{{ blog.content|truncatechars_html:500 }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
      <p>There are no blogs.</p>
    {% endif %}
{#    {% endcache %}#}
{% endblock %}